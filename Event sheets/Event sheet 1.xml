<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Event sheet 1</name>
    <events>
        <comment>Allow WASD as alternate controls to the default arrow keys.</comment>
        <event-block any="1" sid="667693284826191">
            <conditions>
                <condition id="2" name="Key is down" sid="978536384386851" type="Keyboard">
                    <param id="0" name="Key">87</param>
                </condition>
                <condition id="2" name="Key is down" sid="213683080549547" type="Keyboard">
                    <param id="0" name="Key">38</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="803350004938555">
                    <conditions>
                        <condition id="-8" name="Is boolean instance variable set" sid="933474597273330" type="Player">
                            <param id="0" name="Instance variable">Dead</param>
                        </condition>
                    </conditions>
                    <actions />
                </event-block>
                <event-block sid="712995819651389">
                    <conditions>
                        <condition id="-22" name="Else" sid="853589390057271" type="System" />
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="7" name="Simulate control" sid="760048024640416" type="Player">
                            <param id="0" name="Control">2</param>
                        </action>
                        <action id="4" name="Set animation" sid="244664474140339" type="Player">
                            <param id="0" name="Animation">&quot;WalkUp&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block any="1" sid="974367376610421">
            <conditions>
                <condition id="2" name="Key is down" sid="282296124441404" type="Keyboard">
                    <param id="0" name="Key">65</param>
                </condition>
                <condition id="2" name="Key is down" sid="801968767799297" type="Keyboard">
                    <param id="0" name="Key">37</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="492210128276475">
                    <conditions>
                        <condition id="-8" name="Is boolean instance variable set" sid="900795659261987" type="Player">
                            <param id="0" name="Instance variable">Dead</param>
                        </condition>
                    </conditions>
                    <actions />
                </event-block>
                <event-block sid="641685937657540">
                    <conditions>
                        <condition id="-22" name="Else" sid="691526970836421" type="System" />
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="7" name="Simulate control" sid="702564621292318" type="Player">
                            <param id="0" name="Control">0</param>
                        </action>
                        <action id="4" name="Set animation" sid="930968836542000" type="Player">
                            <param id="0" name="Animation">&quot;WalkLeft&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block any="1" sid="807152410038852">
            <conditions>
                <condition id="2" name="Key is down" sid="301947411864450" type="Keyboard">
                    <param id="0" name="Key">83</param>
                </condition>
                <condition id="2" name="Key is down" sid="380982962352216" type="Keyboard">
                    <param id="0" name="Key">40</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="713124301999098">
                    <conditions>
                        <condition id="-8" name="Is boolean instance variable set" sid="795001057305993" type="Player">
                            <param id="0" name="Instance variable">Dead</param>
                        </condition>
                    </conditions>
                    <actions />
                </event-block>
                <event-block sid="369017290387263">
                    <conditions>
                        <condition id="-22" name="Else" sid="349698635662648" type="System" />
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="7" name="Simulate control" sid="969125472429942" type="Player">
                            <param id="0" name="Control">3</param>
                        </action>
                        <action id="4" name="Set animation" sid="104828525026060" type="Player">
                            <param id="0" name="Animation">&quot;WalkDown&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block any="1" sid="905247386019849">
            <conditions>
                <condition id="2" name="Key is down" sid="476591519564232" type="Keyboard">
                    <param id="0" name="Key">68</param>
                </condition>
                <condition id="2" name="Key is down" sid="943418022738543" type="Keyboard">
                    <param id="0" name="Key">39</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="746674432007773">
                    <conditions>
                        <condition id="-8" name="Is boolean instance variable set" sid="443584713034914" type="Player">
                            <param id="0" name="Instance variable">Dead</param>
                        </condition>
                    </conditions>
                    <actions />
                </event-block>
                <event-block sid="848336744350704">
                    <conditions>
                        <condition id="-22" name="Else" sid="243346382237071" type="System" />
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="7" name="Simulate control" sid="937983583194748" type="Player">
                            <param id="0" name="Control">1</param>
                        </action>
                        <action id="4" name="Set animation" sid="774834186648971" type="Player">
                            <param id="0" name="Animation">&quot;WalkRight&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="515993948456726">
            <conditions>
                <condition id="0" name="On key pressed" sid="890577242016734" type="Keyboard">
                    <param id="0" name="Key">82</param>
                </condition>
                <condition id="-8" name="Is boolean instance variable set" sid="528566651003468" type="Player">
                    <param id="0" name="Instance variable">Dead</param>
                </condition>
            </conditions>
            <actions>
                <action id="-26" name="Restart layout" sid="137751366316007" type="System" />
                <action behavior="8Direction" id="2" name="Set ignoring input" sid="284392807202003" type="Player">
                    <param id="0" name="Input">0</param>
                </action>
                <action id="-13" name="Set boolean" sid="829171771713797" type="Player">
                    <param id="0" name="Instance variable">Dead</param>
                    <param id="1" name="Value">0</param>
                </action>
                <action id="-15" name="Set visible" sid="626832410359143" type="Text">
                    <param id="0" name="Visibility">0</param>
                </action>
            </actions>
        </event-block>
        <comment>Box Interaction</comment>
        <event-block sid="393669451649624">
            <conditions>
                <condition id="1" name="Is overlapping another object" sid="342183591818611" type="Box">
                    <param id="0" name="Object">Player</param>
                </condition>
            </conditions>
            <actions>
                <action id="-15" name="Set visible" sid="938554042318831" type="Player">
                    <param id="0" name="Visibility">0</param>
                </action>
                <action id="5" name="Set frame" sid="876187621115563" type="Box">
                    <param id="0" name="Frame number">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="879633522971574">
            <conditions>
                <condition id="-22" name="Else" sid="205918630974218" type="System" />
            </conditions>
            <actions>
                <action id="-15" name="Set visible" sid="184941846336810" type="Player">
                    <param id="0" name="Visibility">1</param>
                </action>
                <action id="5" name="Set frame" sid="438133264770765" type="Box">
                    <param id="0" name="Frame number">0</param>
                </action>
            </actions>
        </event-block>
        <comment>ProgressBar Interaction</comment>
        <event-block sid="827801481882683">
            <conditions>
                <condition id="1" name="Is overlapping another object" sid="551152899895641" type="ScrollOfTruth">
                    <param id="0" name="Object">Player</param>
                </condition>
            </conditions>
            <actions>
                <action id="-9" name="Destroy" sid="779860955038385" type="ScrollOfTruth" />
                <action id="-15" name="Set visible" sid="363689505237647" type="ProgressBar">
                    <param id="0" name="Visibility">1</param>
                </action>
                <action id="-11" name="Add to" sid="844096461367518" type="ProgressBar">
                    <param id="0" name="Instance variable">ScrollsPicked</param>
                    <param id="1" name="Value">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="196099910907234">
            <conditions>
                <condition id="-7" name="Compare instance variable" sid="427530855694533" type="ProgressBar">
                    <param id="0" name="Instance variable">Percentage</param>
                    <param id="1" name="Comparison">5</param>
                    <param id="2" name="Value">0.99</param>
                </condition>
            </conditions>
            <actions>
                <action id="5" name="Set frame" sid="158970658044019" type="ProgressBar">
                    <param id="0" name="Frame number">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="451494908407856">
            <conditions>
                <condition id="-22" name="Else" sid="539623667665388" type="System" />
            </conditions>
            <actions>
                <action id="5" name="Set frame" sid="324958773167239" type="ProgressBar">
                    <param id="0" name="Frame number">0</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="697990937079374">
            <conditions>
                <condition id="-1" name="Every tick" sid="258207462117802" type="System" />
            </conditions>
            <actions>
                <action id="-10" name="Set value" sid="496181095579930" type="ProgressBar">
                    <param id="0" name="Instance variable">Percentage</param>
                    <param id="1" name="Value">ProgressBar.ScrollsPicked / (ScrollOfTruth.Count + ProgressBar.ScrollsPicked)</param>
                </action>
                <action id="-5" name="Set width" sid="448676107895035" type="ProgressBar">
                    <param id="0" name="Width">ProgressBar.Percentage * (OriginalWindowWidth - 5)</param>
                </action>
            </actions>
        </event-block>
        <comment>Initialisation</comment>
        <event-block sid="374719874578262">
            <conditions>
                <condition id="-2" name="On start of layout" sid="549105571865703" type="System" />
            </conditions>
            <actions>
                <action behavior="LineOfSight" id="2" name="Add obstacle" sid="196849475608225" type="Enemy">
                    <param id="0" name="Obstacle">Box</param>
                </action>
                <action behavior="LineOfSight" id="2" name="Add obstacle" sid="191672902695851" type="Enemy">
                    <param id="0" name="Obstacle">Canape</param>
                </action>
                <action behavior="LineOfSight" id="2" name="Add obstacle" sid="113601921702022" type="Enemy">
                    <param id="0" name="Obstacle">Wall</param>
                </action>
                <action behavior="LineOfSight" id="2" name="Add obstacle" sid="462622267906041" type="Enemy">
                    <param id="0" name="Obstacle">Door</param>
                </action>
                <action behavior="Pathfinding" id="5" name="Add obstacle" sid="405311078984458" type="Enemy">
                    <param id="0" name="Obstacle">Box</param>
                </action>
                <action behavior="Pathfinding" id="5" name="Add obstacle" sid="782942041722503" type="Enemy">
                    <param id="0" name="Obstacle">Canape</param>
                </action>
                <action behavior="Pathfinding" id="5" name="Add obstacle" sid="495433476598955" type="Enemy">
                    <param id="0" name="Obstacle">Wall</param>
                </action>
                <action behavior="Pathfinding" id="0" name="Find path" sid="566603903367761" type="Enemy">
                    <param id="0" name="X">1400</param>
                    <param id="1" name="Y">1057</param>
                </action>
                <action id="5" name="Set frame" sid="664640575362203" type="Enemy">
                    <param id="0" name="Frame number">0</param>
                </action>
                <action id="2" name="Stop" sid="867818325085011" type="Enemy" />
                <action behavior="LineOfSight" id="2" name="Add obstacle" sid="899849598578971" type="Enemy2">
                    <param id="0" name="Obstacle">Box</param>
                </action>
                <action behavior="LineOfSight" id="2" name="Add obstacle" sid="121441693560756" type="Enemy2">
                    <param id="0" name="Obstacle">Canape</param>
                </action>
                <action behavior="LineOfSight" id="2" name="Add obstacle" sid="805507211462024" type="Enemy2">
                    <param id="0" name="Obstacle">Wall</param>
                </action>
                <action behavior="Pathfinding" id="5" name="Add obstacle" sid="540793711436313" type="Enemy2">
                    <param id="0" name="Obstacle">Box</param>
                </action>
                <action behavior="Pathfinding" id="5" name="Add obstacle" sid="457413475249644" type="Enemy2">
                    <param id="0" name="Obstacle">Canape</param>
                </action>
                <action behavior="Pathfinding" id="5" name="Add obstacle" sid="266582475352801" type="Enemy2">
                    <param id="0" name="Obstacle">Wall</param>
                </action>
                <action behavior="Pathfinding" id="0" name="Find path" sid="220631074327840" type="Enemy2">
                    <param id="0" name="X">190</param>
                    <param id="1" name="Y">790</param>
                </action>
                <action id="5" name="Set frame" sid="431687326015276" type="Enemy2">
                    <param id="0" name="Frame number">0</param>
                </action>
                <action id="2" name="Stop" sid="953379479721108" type="Enemy2" />
            </actions>
            <sub-events>
                <event-block sid="883193206389521">
                    <conditions>
                        <condition id="1" name="Is overlapping another object" sid="515546210649359" type="Box">
                            <param id="0" name="Object">Player</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-16" name="Wait" sid="921389353849383" type="System">
                            <param id="0" name="Seconds">0.5</param>
                        </action>
                        <action id="-9" name="Destroy" sid="532673795305245" type="Box" />
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <comment>Enemies destroy</comment>
        <event-block any="1" sid="934471742738383">
            <conditions>
                <condition behavior="LineOfSight" id="0" name="Has LOS to object" sid="234576682664014" type="Enemy">
                    <param id="0" name="Object">Player</param>
                </condition>
            </conditions>
            <actions>
                <action id="4" name="Set animation" sid="728562290755098" type="Enemy">
                    <param id="0" name="Animation">&quot;Triggered&quot;</param>
                    <param id="1" name="From">1</param>
                </action>
                <action id="-16" name="Wait" sid="518345602331050" type="System">
                    <param id="0" name="Seconds">0.5</param>
                </action>
            </actions>
            <sub-events>
                <event-block sid="887513868772838">
                    <conditions>
                        <condition behavior="LineOfSight" id="0" name="Has LOS to object" sid="515899987826560" type="Enemy">
                            <param id="0" name="Object">Player</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="914992273614603" type="Player">
                            <param id="0" name="Animation">&quot;Dead&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                        <action behavior="8Direction" id="2" name="Set ignoring input" sid="120059976674068" type="Player">
                            <param id="0" name="Input">1</param>
                        </action>
                        <action id="0" name="Set text" sid="225456983020535" type="Text">
                            <param id="0" name="Text">&quot;Press R to restart&quot;</param>
                        </action>
                        <action id="-13" name="Set boolean" sid="895781853548771" type="Player">
                            <param id="0" name="Instance variable">Dead</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="-15" name="Set visible" sid="480758244110368" type="Text">
                            <param id="0" name="Visibility">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="809425903510672">
                    <conditions>
                        <condition id="-22" name="Else" sid="371552367220202" type="System" />
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="163723827979181" type="Enemy">
                            <param id="0" name="Animation">&quot;Right&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="838688300142488">
            <conditions>
                <condition behavior="LineOfSight" id="0" name="Has LOS to object" sid="891208099682404" type="Enemy2">
                    <param id="0" name="Object">Player</param>
                </condition>
            </conditions>
            <actions>
                <action id="5" name="Set frame" sid="850703875702589" type="Enemy2">
                    <param id="0" name="Frame number">1</param>
                </action>
                <action id="-16" name="Wait" sid="833446813286574" type="System">
                    <param id="0" name="Seconds">0.5</param>
                </action>
            </actions>
            <sub-events>
                <event-block sid="498016395615033">
                    <conditions>
                        <condition behavior="LineOfSight" id="0" name="Has LOS to object" sid="272892047931986" type="Enemy2">
                            <param id="0" name="Object">Player</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="818434892163404" type="Player">
                            <param id="0" name="Animation">&quot;Dead&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                        <action behavior="8Direction" id="2" name="Set ignoring input" sid="361484391623141" type="Player">
                            <param id="0" name="Input">1</param>
                        </action>
                        <action id="0" name="Set text" sid="761904846724523" type="Text">
                            <param id="0" name="Text">&quot;Press R to restart&quot;</param>
                        </action>
                        <action id="-13" name="Set boolean" sid="652017386124177" type="Player">
                            <param id="0" name="Instance variable">Dead</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="-15" name="Set visible" sid="858084148114971" type="Text">
                            <param id="0" name="Visibility">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="930738551490410">
                    <conditions>
                        <condition id="-22" name="Else" sid="920138330206544" type="System" />
                    </conditions>
                    <actions>
                        <action id="5" name="Set frame" sid="417078763409658" type="Enemy2">
                            <param id="0" name="Frame number">0</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <comment>Enemy Path</comment>
        <event-block sid="460418818756231">
            <conditions>
                <condition behavior="Pathfinding" id="0" name="On path found" sid="175218286625148" type="Enemy" />
            </conditions>
            <actions>
                <action behavior="Pathfinding" id="1" name="Move along path" sid="676103709292806" type="Enemy" />
            </actions>
        </event-block>
        <event-block sid="911787170632330">
            <conditions>
                <condition behavior="Pathfinding" id="5" name="On arrived" sid="494688290598627" type="Enemy" />
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="197805386361458">
                    <conditions>
                        <condition id="-1" name="Compare X" sid="407790458330833" type="Enemy">
                            <param id="0" name="Comparison">5</param>
                            <param id="1" name="X co-ordinate">1350</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Pathfinding" id="2" name="Stop" sid="285849509734896" type="Enemy" />
                        <action behavior="Pathfinding" id="0" name="Find path" sid="868967272568471" type="Enemy">
                            <param id="0" name="X">700</param>
                            <param id="1" name="Y">1057</param>
                        </action>
                        <action id="-8" name="Set angle" sid="162843139407461" type="Enemy">
                            <param id="0" name="Angle">180</param>
                        </action>
                        <action id="4" name="Set animation" sid="132694336950512" type="Enemy">
                            <param id="0" name="Animation">&quot;Right&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                        <action id="8" name="Set flipped" sid="769113709635529" type="Enemy">
                            <param id="0" name="State">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="174190305104252">
                    <conditions>
                        <condition id="-22" name="Else" sid="141182177136984" type="System" />
                    </conditions>
                    <actions>
                        <action behavior="Pathfinding" id="2" name="Stop" sid="529283303182621" type="Enemy" />
                        <action behavior="Pathfinding" id="0" name="Find path" sid="553435625148955" type="Enemy">
                            <param id="0" name="X">1400</param>
                            <param id="1" name="Y">1057</param>
                        </action>
                        <action id="-8" name="Set angle" sid="566386008558933" type="Enemy">
                            <param id="0" name="Angle">0</param>
                        </action>
                        <action id="4" name="Set animation" sid="896754304454835" type="Enemy">
                            <param id="0" name="Animation">&quot;Right&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                        <action id="8" name="Set flipped" sid="645235826775564" type="Enemy">
                            <param id="0" name="State">1</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="603230418815736">
            <conditions>
                <condition id="5" name="On any finished" sid="859782633274048" type="Enemy" />
            </conditions>
            <actions>
                <action id="3" name="Start" sid="310249186953688" type="Enemy">
                    <param id="0" name="From">1</param>
                </action>
            </actions>
        </event-block>
        <comment>Enemy 2</comment>
        <event-block sid="605992271370557">
            <conditions>
                <condition behavior="Pathfinding" id="0" name="On path found" sid="222840108449529" type="Enemy2" />
            </conditions>
            <actions>
                <action id="-8" name="Set angle" sid="120039815274630" type="Enemy2">
                    <param id="0" name="Angle">90</param>
                </action>
                <action behavior="Pathfinding" id="1" name="Move along path" sid="957866748063035" type="Enemy2" />
            </actions>
        </event-block>
        <event-block sid="632685024361196">
            <conditions>
                <condition behavior="Pathfinding" id="5" name="On arrived" sid="969528459484656" type="Enemy2" />
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="536341343615686">
                    <conditions>
                        <condition id="-2" name="Compare Y" sid="705231436781568" type="Enemy2">
                            <param id="0" name="Comparison">5</param>
                            <param id="1" name="Y co-ordinate">700</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Pathfinding" id="2" name="Stop" sid="331461158540498" type="Enemy2" />
                        <action behavior="Pathfinding" id="0" name="Find path" sid="354970595776923" type="Enemy2">
                            <param id="0" name="X">190</param>
                            <param id="1" name="Y">520</param>
                        </action>
                        <action id="7" name="Set mirrored" sid="361922104057580" type="Enemy2">
                            <param id="0" name="State">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="990939870236551">
                    <conditions>
                        <condition id="-22" name="Else" sid="983666254380508" type="System" />
                    </conditions>
                    <actions>
                        <action behavior="Pathfinding" id="2" name="Stop" sid="440730785855174" type="Enemy2" />
                        <action behavior="Pathfinding" id="0" name="Find path" sid="556418731859053" type="Enemy2">
                            <param id="0" name="X">190</param>
                            <param id="1" name="Y">790</param>
                        </action>
                        <action id="7" name="Set mirrored" sid="438396531791843" type="Enemy2">
                            <param id="0" name="State">1</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <comment>Player door interactions</comment>
        <event-block sid="518110339868755">
            <conditions>
                <condition id="-1" name="Compare X" sid="110836488744320" type="Door">
                    <param id="0" name="Comparison">5</param>
                    <param id="1" name="X co-ordinate">Player.X -50</param>
                </condition>
                <condition id="-1" name="Compare X" sid="167607746466089" type="Door">
                    <param id="0" name="Comparison">3</param>
                    <param id="1" name="X co-ordinate">Player.X +50</param>
                </condition>
                <condition id="-2" name="Compare Y" sid="723152868573186" type="Door">
                    <param id="0" name="Comparison">5</param>
                    <param id="1" name="Y co-ordinate">Player.Y - 50</param>
                </condition>
                <condition id="-2" name="Compare Y" sid="253727221873742" type="Door">
                    <param id="0" name="Comparison">3</param>
                    <param id="1" name="Y co-ordinate">Player.Y + 50</param>
                </condition>
            </conditions>
            <actions>
                <action id="-15" name="Set visible" sid="260060651227119" type="Door">
                    <param id="0" name="Visibility">0</param>
                </action>
                <action behavior="LineOfSight" id="3" name="Clear obstacles" sid="895340073920116" type="Enemy" />
                <action behavior="LineOfSight" id="2" name="Add obstacle" sid="274438687380031" type="Enemy">
                    <param id="0" name="Obstacle">Wall</param>
                </action>
                <action behavior="LineOfSight" id="2" name="Add obstacle" sid="821555174147528" type="Enemy">
                    <param id="0" name="Obstacle">Canape</param>
                </action>
                <action behavior="LineOfSight" id="2" name="Add obstacle" sid="699164192208623" type="Enemy">
                    <param id="0" name="Obstacle">Box</param>
                </action>
                <action id="-13" name="Set boolean" sid="694997962512454" type="Door">
                    <param id="0" name="Instance variable">IsLooked</param>
                    <param id="1" name="Value">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="527834070012686">
            <conditions>
                <condition id="-22" name="Else" sid="570083364374001" type="System" />
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="445155127664053">
                    <conditions>
                        <condition id="-8" name="Is boolean instance variable set" sid="502401260729970" type="Door">
                            <param id="0" name="Instance variable">IsLooked</param>
                        </condition>
                    </conditions>
                    <actions />
                </event-block>
                <event-block sid="465114467809706">
                    <conditions>
                        <condition id="-22" name="Else" sid="411730529900293" type="System" />
                    </conditions>
                    <actions>
                        <action id="-15" name="Set visible" sid="913924157173228" type="Door">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action behavior="LineOfSight" id="2" name="Add obstacle" sid="563797782091663" type="Enemy">
                            <param id="0" name="Obstacle">Door</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <comment>Enemy door interactions</comment>
        <comment>No enemy2 since he can&apos;t encounter doors</comment>
        <event-block sid="218821020785984">
            <conditions>
                <condition id="-1" name="Compare X" sid="998308552807515" type="Door">
                    <param id="0" name="Comparison">5</param>
                    <param id="1" name="X co-ordinate">Enemy.X - 30</param>
                </condition>
                <condition id="-1" name="Compare X" sid="894080225649783" type="Door">
                    <param id="0" name="Comparison">3</param>
                    <param id="1" name="X co-ordinate">Enemy.X + 30</param>
                </condition>
                <condition id="-2" name="Compare Y" sid="288302982143106" type="Door">
                    <param id="0" name="Comparison">5</param>
                    <param id="1" name="Y co-ordinate">Enemy.Y -30</param>
                </condition>
                <condition id="-2" name="Compare Y" sid="657098968113114" type="Door">
                    <param id="0" name="Comparison">3</param>
                    <param id="1" name="Y co-ordinate">Enemy.Y + 30</param>
                </condition>
            </conditions>
            <actions>
                <action id="-15" name="Set visible" sid="698078422596998" type="Door">
                    <param id="0" name="Visibility">0</param>
                </action>
                <action behavior="LineOfSight" id="3" name="Clear obstacles" sid="924293195085819" type="Enemy" />
                <action behavior="LineOfSight" id="2" name="Add obstacle" sid="551344627265670" type="Enemy">
                    <param id="0" name="Obstacle">Wall</param>
                </action>
                <action behavior="LineOfSight" id="2" name="Add obstacle" sid="990526531973913" type="Enemy">
                    <param id="0" name="Obstacle">Canape</param>
                </action>
                <action behavior="LineOfSight" id="2" name="Add obstacle" sid="266432337616377" type="Enemy">
                    <param id="0" name="Obstacle">Box</param>
                </action>
                <action id="-13" name="Set boolean" sid="449019764647017" type="Door">
                    <param id="0" name="Instance variable">IsLooked</param>
                    <param id="1" name="Value">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="521947501794257">
            <conditions>
                <condition id="-22" name="Else" sid="920096961267040" type="System" />
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="452555074315180">
                    <conditions>
                        <condition id="-8" name="Is boolean instance variable set" sid="986792282806416" type="Door">
                            <param id="0" name="Instance variable">IsLooked</param>
                        </condition>
                    </conditions>
                    <actions />
                </event-block>
                <event-block sid="563567743461358">
                    <conditions>
                        <condition id="-22" name="Else" sid="475988108312025" type="System" />
                    </conditions>
                    <actions>
                        <action id="-15" name="Set visible" sid="185546603297001" type="Door">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action behavior="LineOfSight" id="2" name="Add obstacle" sid="331025717940734" type="Enemy">
                            <param id="0" name="Obstacle">Door</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <comment>Reset the isLooked boolean at each tick to avoid door bugs</comment>
        <event-block sid="405039092482454">
            <conditions>
                <condition id="-6" name="Every X seconds" sid="576775139471680" type="System">
                    <param id="0" name="Interval (seconds)">fps/60</param>
                </condition>
            </conditions>
            <actions>
                <action id="-13" name="Set boolean" sid="395043436246159" type="Door">
                    <param id="0" name="Instance variable">IsLooked</param>
                    <param id="1" name="Value">0</param>
                </action>
            </actions>
        </event-block>
    </events>
</c2eventsheet>
